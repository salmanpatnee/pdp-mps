openapi: 3.0.0
info:
  title: Co-Author Notification API
  version: 1.0.0
paths:
  /api/manuscripts/{manuscript_id}/co-authors:
    post:
      summary: Invite a co-author to a manuscript
      parameters:
        - in: path
          name: manuscript_id
          required: true
          schema:
            type: string
          description: The ID of the manuscript.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
              properties:
                email:
                  type: string
                  format: email
                  description: The email address of the co-author to invite.
      responses:
        '201':
          description: Invitation sent successfully.
        '400':
          description: Invalid email format, or co-author already invited/associated.
        '403':
          description: User is not the primary author of the manuscript.
        '404':
          description: Manuscript not found.
  /api/co-author-invitations/{token}/accept:
    get:
      summary: Accept a co-author invitation
      parameters:
        - in: path
          name: token
          required: true
          schema:
            type: string
          description: The secure invitation token.
      responses:
        '200':
          description: Invitation accepted, co-author linked to manuscript.
        '400':
          description: Invalid or expired token, invitation already responded to.
        '404':
          description: Invitation not found.
  /api/co-author-invitations/{token}/decline:
    get:
      summary: Decline a co-author invitation
      parameters:
        - in: path
          name: token
          required: true
          schema:
            type: string
          description: The secure invitation token.
      responses:
        '200':
          description: Invitation declined.
        '400':
          description: Invalid or expired token, invitation already responded to.
        '404':
          description: Invitation not found.
